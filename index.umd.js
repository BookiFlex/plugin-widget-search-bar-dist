(function(b,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(b=typeof globalThis<"u"?globalThis:b||self,o(b.index={},b.Vue))})(this,function(b,o){"use strict";var W=Object.defineProperty;var K=(b,o,k)=>o in b?W(b,o,{enumerable:!0,configurable:!0,writable:!0,value:k}):b[o]=k;var d=(b,o,k)=>K(b,typeof o!="symbol"?o+"":o,k);var u;let k=(u=class extends Date{constructor(e=null,t="YYYY-MM-DD",n="en-US"){super(u.parseDateTime(e,t,n));d(this,"lang");this.lang=n}static parseDateTime(e,t="YYYY-MM-DD",n="en-US"){if(!e)return new Date(new Date().setHours(0,0,0,0));if(e instanceof u)return e.toJSDate();if(e instanceof Date)return e;if(/^-?\d{10,}$/.test(String(e)))return new Date(Number(e));if(typeof e=="string"){const s=[];let r=null;for(;(r=u.regex.exec(t))!=null;)r[1]!=="\\"&&s.push(r);if(s.length){const a={year:null,month:null,shortMonth:null,longMonth:null,day:null,hour:0,minute:0,second:0,ampm:null,value:""};s[0].index>0&&(a.value+=".*?");for(const[c,p]of Object.entries(s)){const m=Number(c),{group:v,pattern:D}=u.formatPatterns(p[0],n);a[v]=m+1,a.value+=D,a.value+=".*?"}const l=new RegExp(`^${a.value}$`);if(l.test(e)){const c=l.exec(e),p=Number(c[a.year]);let m=null;a.month?m=Number(c[a.month])-1:a.shortMonth?m=u.shortMonths(n).indexOf(c[a.shortMonth]):a.longMonth&&(m=u.longMonths(n).indexOf(c[a.longMonth]));const v=Number(c[a.day])||1,D=Number(c[a.hour]);let y=Number.isNaN(D)?0:D;const w=Number(c[a.minute]),f=Number.isNaN(w)?0:w,x=Number(c[a.second]),T=Number.isNaN(x)?0:x,E=c[a.ampm];return E&&E==="PM"&&(y+=12,y===24&&(y=0)),new Date(p,m,v,y,f,T,0)}}}return new Date(new Date().setHours(0,0,0,0))}static shortMonths(e){return u.MONTH_JS.map(t=>new Date(2019,t).toLocaleString(e,{month:"short"}))}static longMonths(e){return u.MONTH_JS.map(t=>new Date(2019,t).toLocaleString(e,{month:"long"}))}static formatPatterns(e,t){switch(e){case"YY":case"YYYY":return{group:"year",pattern:`(\\d{${e.length}})`};case"M":return{group:"month",pattern:"(\\d{1,2})"};case"MM":return{group:"month",pattern:"(\\d{2})"};case"MMM":return{group:"shortMonth",pattern:`(${u.shortMonths(t).join("|")})`};case"MMMM":return{group:"longMonth",pattern:`(${u.longMonths(t).join("|")})`};case"D":return{group:"day",pattern:"(\\d{1,2})"};case"DD":return{group:"day",pattern:"(\\d{2})"};case"h":case"H":return{group:"hour",pattern:"(\\d{1,2})"};case"hh":case"HH":return{group:"hour",pattern:"(\\d{2})"};case"m":return{group:"minute",pattern:"(\\d{1,2})"};case"mm":return{group:"minute",pattern:"(\\d{2})"};case"s":return{group:"second",pattern:"(\\d{1,2})"};case"ss":return{group:"second",pattern:"(\\d{2})"};case"a":case"A":return{group:"ampm",pattern:"(AM|PM|am|pm)"}}}getWeek(e){const t=new Date(this.midnight_ts(this)),n=(this.getDay()+(7-e))%7;t.setDate(t.getDate()-n);const s=t.getTime();return t.setMonth(0,1),t.getDay()!==e&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((s-t.getTime())/6048e5)}clone(){return new u(this)}toJSDate(){return new Date(this)}inArray(e,t="[]"){return e.some(n=>n instanceof Array?this.isBetween(n[0],n[1],t):this.isSame(n,"day"))}isBetween(e,t,n="()"){switch(n){default:case"()":return this.midnight_ts(this)>this.midnight_ts(e)&&this.midnight_ts(this)<this.midnight_ts(t);case"[)":return this.midnight_ts(this)>=this.midnight_ts(e)&&this.midnight_ts(this)<this.midnight_ts(t);case"(]":return this.midnight_ts(this)>this.midnight_ts(e)&&this.midnight_ts(this)<=this.midnight_ts(t);case"[]":return this.midnight_ts()>=this.midnight_ts(e)&&this.midnight_ts()<=this.midnight_ts(t)}}isBefore(e,t="days"){switch(t){case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>new Date(this.getFullYear(),this.getMonth(),1).getTime();case"year":case"years":return e.getFullYear()>this.getFullYear()}throw new Error("isBefore: Invalid unit!")}isSameOrBefore(e,t="days"){switch(t){case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>=new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>=new Date(this.getFullYear(),this.getMonth(),1).getTime()}throw new Error("isSameOrBefore: Invalid unit!")}isAfter(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>new Date(e.getFullYear(),e.getMonth(),1).getTime();case"year":case"years":return this.getFullYear()>e.getFullYear()}throw new Error("isAfter: Invalid unit!")}isSameOrAfter(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>=new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSameOrAfter: Invalid unit!")}isSame(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()===new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()===new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSame: Invalid unit!")}add(e,t="days"){switch(t){case"day":case"days":this.setDate(this.getDate()+e);break;case"month":case"months":this.setMonth(this.getMonth()+e)}return this}subtract(e,t="days"){switch(t){case"day":case"days":this.setDate(this.getDate()-e);break;case"month":case"months":this.setMonth(this.getMonth()-e)}return this}diff(e,t="days"){switch(t){default:case"day":case"days":return Math.round((this.midnight_ts()-this.midnight_ts(e))/864e5);case"month":case"months":let n=12*(e.getFullYear()-this.getFullYear());return n-=e.getMonth(),n+=this.getMonth(),n}}format(e,t="en-US"){let n="";const s=[];let r=null;for(;(r=u.regex.exec(e))!=null;)r[1]!=="\\"&&s.push(r);if(s.length){s[0].index>0&&(n+=e.substring(0,s[0].index));for(const[a,l]of Object.entries(s)){const c=Number(a);n+=this.formatTokens(l[0],t),s[c+1]&&(n+=e.substring(l.index+l[0].length,s[c+1].index)),c===s.length-1&&(n+=e.substring(l.index+l[0].length))}}return n.replace(/\\/g,"")}midnight_ts(e){return e?new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0).getTime():new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0).getTime()}formatTokens(e,t){switch(e){case"YY":return String(this.getFullYear()).slice(-2);case"YYYY":return String(this.getFullYear());case"M":return String(this.getMonth()+1);case"MM":return`0${this.getMonth()+1}`.slice(-2);case"MMM":return u.shortMonths(t)[this.getMonth()];case"MMMM":return u.longMonths(t)[this.getMonth()];case"D":return String(this.getDate());case"DD":return`0${this.getDate()}`.slice(-2);case"H":return String(this.getHours());case"HH":return`0${this.getHours()}`.slice(-2);case"h":return String(this.getHours()%12||12);case"hh":return`0${this.getHours()%12||12}`.slice(-2);case"m":return String(this.getMinutes());case"mm":return`0${this.getMinutes()}`.slice(-2);case"s":return String(this.getSeconds());case"ss":return`0${this.getSeconds()}`.slice(-2);case"a":return this.getHours()<12||this.getHours()===24?"am":"pm";case"A":return this.getHours()<12||this.getHours()===24?"AM":"PM";default:return""}}},d(u,"regex",/(\\)?(Y{2,4}|M{1,4}|D{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|A|a)/g),d(u,"MONTH_JS",[0,1,2,3,4,5,6,7,8,9,10,11]),u),_=class{constructor(i){d(this,"picker");this.picker=i}render(i,e){i||(i=new k),i.setDate(1),i.setHours(0,0,0,0),typeof this[`get${e}View`]=="function"&&this[`get${e}View`](i)}getContainerView(i){this.picker.ui.container.innerHTML="",this.picker.options.header&&this.picker.trigger("render",{date:i.clone(),view:"Header"}),this.picker.trigger("render",{date:i.clone(),view:"Main"}),this.picker.options.autoApply||this.picker.trigger("render",{date:i.clone(),view:"Footer"})}getHeaderView(i){const e=document.createElement("header");this.picker.options.header instanceof HTMLElement&&e.appendChild(this.picker.options.header),typeof this.picker.options.header=="string"&&(e.innerHTML=this.picker.options.header),this.picker.ui.container.appendChild(e),this.picker.trigger("view",{target:e,date:i.clone(),view:"Header"})}getMainView(i){const e=document.createElement("main");this.picker.ui.container.appendChild(e);const t=document.createElement("div");t.className=`calendars grid-${this.picker.options.grid}`;for(let n=0;n<this.picker.options.calendars;n++){const s=document.createElement("div");s.className="calendar",t.appendChild(s);const r=this.getCalendarHeaderView(i.clone());s.appendChild(r),this.picker.trigger("view",{date:i.clone(),view:"CalendarHeader",index:n,target:r});const a=this.getCalendarDayNamesView();s.appendChild(a),this.picker.trigger("view",{date:i.clone(),view:"CalendarDayNames",index:n,target:a});const l=this.getCalendarDaysView(i.clone());s.appendChild(l),this.picker.trigger("view",{date:i.clone(),view:"CalendarDays",index:n,target:l});const c=this.getCalendarFooterView(this.picker.options.lang,i.clone());s.appendChild(c),this.picker.trigger("view",{date:i.clone(),view:"CalendarFooter",index:n,target:c}),this.picker.trigger("view",{date:i.clone(),view:"CalendarItem",index:n,target:s}),i.add(1,"month")}e.appendChild(t),this.picker.trigger("view",{date:i.clone(),view:"Calendars",target:t}),this.picker.trigger("view",{date:i.clone(),view:"Main",target:e})}getFooterView(i){const e=document.createElement("footer"),t=document.createElement("div");t.className="footer-buttons";const n=document.createElement("button");n.className="cancel-button unit",n.innerHTML=this.picker.options.locale.cancel,t.appendChild(n);const s=document.createElement("button");s.className="apply-button unit",s.innerHTML=this.picker.options.locale.apply,s.disabled=!0,t.appendChild(s),e.appendChild(t),this.picker.ui.container.appendChild(e),this.picker.trigger("view",{date:i,target:e,view:"Footer"})}getCalendarHeaderView(i){const e=document.createElement("div");e.className="header";const t=document.createElement("div");t.className="month-name",t.innerHTML=`<span>${i.toLocaleString(this.picker.options.lang,{month:"long"})}</span> ${i.format("YYYY")}`,e.appendChild(t);const n=document.createElement("button");n.className="previous-button unit",n.innerHTML=this.picker.options.locale.previousMonth,e.appendChild(n);const s=document.createElement("button");return s.className="next-button unit",s.innerHTML=this.picker.options.locale.nextMonth,e.appendChild(s),e}getCalendarDayNamesView(){const i=document.createElement("div");i.className="daynames-row";for(let e=1;e<=7;e++){const t=3+this.picker.options.firstDay+e,n=document.createElement("div");n.className="dayname",n.innerHTML=new Date(1970,0,t,12,0,0,0).toLocaleString(this.picker.options.lang,{weekday:"short"}),n.title=new Date(1970,0,t,12,0,0,0).toLocaleString(this.picker.options.lang,{weekday:"long"}),i.appendChild(n),this.picker.trigger("view",{dayIdx:t,view:"CalendarDayName",target:n})}return i}getCalendarDaysView(i){const e=document.createElement("div");e.className="days-grid";const t=this.calcOffsetDays(i,this.picker.options.firstDay),n=32-new Date(i.getFullYear(),i.getMonth(),32).getDate();for(let s=0;s<t;s++){const r=document.createElement("div");r.className="offset",e.appendChild(r)}for(let s=1;s<=n;s++){i.setDate(s);const r=this.getCalendarDayView(i);e.appendChild(r),this.picker.trigger("view",{date:i,view:"CalendarDay",target:r})}return e}getCalendarDayView(i){const e=this.picker.options.date?new k(this.picker.options.date):null,t=new k,n=document.createElement("div");return n.className="day unit",n.innerHTML=i.format("D"),n.dataset.time=String(i.getTime()),i.isSame(t,"day")&&n.classList.add("today"),[0,6].includes(i.getDay())&&n.classList.add("weekend"),this.picker.datePicked.length?this.picker.datePicked[0].isSame(i,"day")&&n.classList.add("selected"):e&&i.isSame(e,"day")&&n.classList.add("selected"),this.picker.trigger("view",{date:i,view:"CalendarDay",target:n}),n}getCalendarFooterView(i,e){const t=document.createElement("div");return t.className="footer",t}calcOffsetDays(i,e){let t=i.getDay()-e;return t<0&&(t+=7),t}},N=class{constructor(i){d(this,"picker");d(this,"instances",{});this.picker=i}initialize(){const i=[];this.picker.options.plugins.forEach(e=>{typeof e=="function"?i.push(new e):typeof e=="string"&&typeof easepick<"u"&&Object.prototype.hasOwnProperty.call(easepick,e)?i.push(new easepick[e]):console.warn(`easepick: ${e} not found.`)}),i.sort((e,t)=>e.priority>t.priority?-1:e.priority<t.priority||e.dependencies.length>t.dependencies.length?1:e.dependencies.length<t.dependencies.length?-1:0),i.forEach(e=>{e.attach(this.picker),this.instances[e.getName()]=e})}getInstance(i){return this.instances[i]}addInstance(i){if(Object.prototype.hasOwnProperty.call(this.instances,i))console.warn(`easepick: ${i} already added.`);else{if(typeof easepick<"u"&&Object.prototype.hasOwnProperty.call(easepick,i)){const e=new easepick[i];return e.attach(this.picker),this.instances[e.getName()]=e,e}if(this.getPluginFn(i)!=="undefined"){const e=new(this.getPluginFn(i));return e.attach(this.picker),this.instances[e.getName()]=e,e}console.warn(`easepick: ${i} not found.`)}return null}removeInstance(i){return i in this.instances&&this.instances[i].detach(),delete this.instances[i]}reloadInstance(i){return this.removeInstance(i),this.addInstance(i)}getPluginFn(i){return[...this.picker.options.plugins].filter(e=>typeof e=="function"&&new e().getName()===i).shift()}};class Y{constructor(i){d(this,"Calendar",new _(this));d(this,"PluginManager",new N(this));d(this,"calendars",[]);d(this,"datePicked",[]);d(this,"cssLoaded",0);d(this,"binds",{hidePicker:this.hidePicker.bind(this),show:this.show.bind(this)});d(this,"options",{doc:document,css:[],element:null,firstDay:1,grid:1,calendars:1,lang:"en-US",date:null,format:"YYYY-MM-DD",readonly:!0,autoApply:!0,header:!1,inline:!1,scrollToDate:!0,locale:{nextMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.748 16L0 13.333 5.333 8 0 2.667 2.748 0l7.919 8z" fill-rule="nonzero"/></svg>',previousMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7.919 0l2.748 2.667L5.333 8l5.334 5.333L7.919 16 0 8z" fill-rule="nonzero"/></svg>',cancel:"Cancel",apply:"Apply"},documentClick:this.binds.hidePicker,plugins:[]});d(this,"ui",{container:null,shadowRoot:null,wrapper:null});d(this,"version","1.2.1");const e={...this.options.locale,...i.locale};this.options={...this.options,...i},this.options.locale=e,this.handleOptions(),this.ui.wrapper=document.createElement("span"),this.ui.wrapper.style.display="none",this.ui.wrapper.style.position="absolute",this.ui.wrapper.style.pointerEvents="none",this.ui.wrapper.className="easepick-wrapper",this.ui.wrapper.attachShadow({mode:"open"}),this.ui.shadowRoot=this.ui.wrapper.shadowRoot,this.ui.container=document.createElement("div"),this.ui.container.className="container",this.options.zIndex&&(this.ui.container.style.zIndex=String(this.options.zIndex)),this.options.inline&&(this.ui.wrapper.style.position="relative",this.ui.container.classList.add("inline")),this.ui.shadowRoot.appendChild(this.ui.container),this.options.element.after(this.ui.wrapper),this.handleCSS(),this.options.element.addEventListener("click",this.binds.show),this.on("view",this.onView.bind(this)),this.on("render",this.onRender.bind(this)),this.PluginManager.initialize(),this.parseValues(),typeof this.options.setup=="function"&&this.options.setup(this),this.on("click",this.onClick.bind(this));const t=this.options.scrollToDate?this.getDate():null;this.renderAll(t)}on(i,e,t={}){this.ui.container.addEventListener(i,e,t)}off(i,e,t={}){this.ui.container.removeEventListener(i,e,t)}trigger(i,e={}){return this.ui.container.dispatchEvent(new CustomEvent(i,{detail:e}))}destroy(){this.options.element.removeEventListener("click",this.binds.show),typeof this.options.documentClick=="function"&&document.removeEventListener("click",this.options.documentClick,!0),Object.keys(this.PluginManager.instances).forEach(i=>{this.PluginManager.removeInstance(i)}),this.ui.wrapper.remove()}onRender(i){const{view:e,date:t}=i.detail;this.Calendar.render(t,e)}onView(i){const{view:e,target:t}=i.detail;e==="Footer"&&this.datePicked.length&&(t.querySelector(".apply-button").disabled=!1)}onClickHeaderButton(i){this.isCalendarHeaderButton(i)&&(i.classList.contains("next-button")?this.calendars[0].add(1,"month"):this.calendars[0].subtract(1,"month"),this.renderAll(this.calendars[0]))}onClickCalendarDay(i){if(this.isCalendarDay(i)){const e=new k(i.dataset.time);this.options.autoApply?(this.setDate(e),this.trigger("select",{date:this.getDate()}),this.hide()):(this.datePicked[0]=e,this.trigger("preselect",{date:this.getDate()}),this.renderAll())}}onClickApplyButton(i){if(this.isApplyButton(i)){if(this.datePicked[0]instanceof Date){const e=this.datePicked[0].clone();this.setDate(e)}this.hide(),this.trigger("select",{date:this.getDate()})}}onClickCancelButton(i){this.isCancelButton(i)&&this.hide()}onClick(i){const e=i.target;if(e instanceof HTMLElement){const t=e.closest(".unit");if(!(t instanceof HTMLElement))return;this.onClickHeaderButton(t),this.onClickCalendarDay(t),this.onClickApplyButton(t),this.onClickCancelButton(t)}}isShown(){return this.ui.container.classList.contains("inline")||this.ui.container.classList.contains("show")}show(i){if(this.isShown())return;const e=i&&"target"in i?i.target:this.options.element,{top:t,left:n}=this.adjustPosition(e);this.ui.container.style.top=`${t}px`,this.ui.container.style.left=`${n}px`,this.ui.container.classList.add("show"),this.trigger("show",{target:e})}hide(){this.ui.container.classList.remove("show"),this.datePicked.length=0,this.renderAll(),this.trigger("hide")}setDate(i){const e=new k(i,this.options.format);this.options.date=e.clone(),this.updateValues(),this.calendars.length&&this.renderAll()}getDate(){return this.options.date instanceof k?this.options.date.clone():null}parseValues(){this.options.date?this.setDate(this.options.date):this.options.element instanceof HTMLInputElement&&this.options.element.value.length&&this.setDate(this.options.element.value),this.options.date instanceof Date||(this.options.date=null)}updateValues(){const i=this.getDate(),e=i instanceof Date?i.format(this.options.format,this.options.lang):"",t=this.options.element;t instanceof HTMLInputElement?t.value=e:t instanceof HTMLElement&&(t.innerText=e)}hidePicker(i){let e=i.target,t=null;e.shadowRoot&&(e=i.composedPath()[0],t=e.getRootNode().host),this.isShown()&&t!==this.ui.wrapper&&e!==this.options.element&&this.hide()}renderAll(i){this.trigger("render",{view:"Container",date:(i||this.calendars[0]).clone()})}isCalendarHeaderButton(i){return["previous-button","next-button"].some(e=>i.classList.contains(e))}isCalendarDay(i){return i.classList.contains("day")}isApplyButton(i){return i.classList.contains("apply-button")}isCancelButton(i){return i.classList.contains("cancel-button")}gotoDate(i){const e=new k(i,this.options.format);e.setDate(1),this.calendars[0]=e.clone(),this.renderAll()}clear(){this.options.date=null,this.datePicked.length=0,this.updateValues(),this.renderAll(),this.trigger("clear")}handleOptions(){this.options.element instanceof HTMLElement||(this.options.element=this.options.doc.querySelector(this.options.element)),typeof this.options.documentClick=="function"&&document.addEventListener("click",this.options.documentClick,!0),this.options.element instanceof HTMLInputElement&&(this.options.element.readOnly=this.options.readonly),this.options.date?this.calendars[0]=new k(this.options.date,this.options.format):this.calendars[0]=new k}handleCSS(){if(Array.isArray(this.options.css))this.options.css.forEach(i=>{const e=document.createElement("link");e.href=i,e.rel="stylesheet";const t=()=>{this.cssLoaded++,this.cssLoaded===this.options.css.length&&(this.ui.wrapper.style.display="")};e.addEventListener("load",t),e.addEventListener("error",t),this.ui.shadowRoot.append(e)});else if(typeof this.options.css=="string"){const i=document.createElement("style"),e=document.createTextNode(this.options.css);i.appendChild(e),this.ui.shadowRoot.append(i),this.ui.wrapper.style.display=""}else typeof this.options.css=="function"&&(this.options.css.call(this,this),this.ui.wrapper.style.display="")}adjustPosition(i){const e=i.getBoundingClientRect(),t=this.ui.wrapper.getBoundingClientRect();this.ui.container.classList.add("calc");const n=this.ui.container.getBoundingClientRect();this.ui.container.classList.remove("calc");let s=e.bottom-t.bottom,r=e.left-t.left;return typeof window<"u"&&(window.innerHeight<s+n.height&&s-n.height>=0&&(s=e.top-t.top-n.height),window.innerWidth<r+n.width&&e.right-n.width>=0&&(r=e.right-t.right-n.width)),{left:r,top:s}}}var L=Object.freeze({__proto__:null,Core:Y,create:Y});const g=class g extends Date{constructor(e=null,t="YYYY-MM-DD",n="en-US"){super(g.parseDateTime(e,t,n));d(this,"lang");this.lang=n}static parseDateTime(e,t="YYYY-MM-DD",n="en-US"){if(!e)return new Date(new Date().setHours(0,0,0,0));if(e instanceof g)return e.toJSDate();if(e instanceof Date)return e;if(/^-?\d{10,}$/.test(String(e)))return new Date(Number(e));if(typeof e=="string"){const s=[];let r=null;for(;(r=g.regex.exec(t))!=null;)r[1]!=="\\"&&s.push(r);if(s.length){const a={year:null,month:null,shortMonth:null,longMonth:null,day:null,hour:0,minute:0,second:0,ampm:null,value:""};s[0].index>0&&(a.value+=".*?");for(const[c,p]of Object.entries(s)){const m=Number(c),{group:v,pattern:D}=g.formatPatterns(p[0],n);a[v]=m+1,a.value+=D,a.value+=".*?"}const l=new RegExp(`^${a.value}$`);if(l.test(e)){const c=l.exec(e),p=Number(c[a.year]);let m=null;a.month?m=Number(c[a.month])-1:a.shortMonth?m=g.shortMonths(n).indexOf(c[a.shortMonth]):a.longMonth&&(m=g.longMonths(n).indexOf(c[a.longMonth]));const v=Number(c[a.day])||1,D=Number(c[a.hour]);let y=Number.isNaN(D)?0:D;const w=Number(c[a.minute]),f=Number.isNaN(w)?0:w,x=Number(c[a.second]),T=Number.isNaN(x)?0:x,E=c[a.ampm];return E&&E==="PM"&&(y+=12,y===24&&(y=0)),new Date(p,m,v,y,f,T,0)}}}return new Date(new Date().setHours(0,0,0,0))}static shortMonths(e){return g.MONTH_JS.map(t=>new Date(2019,t).toLocaleString(e,{month:"short"}))}static longMonths(e){return g.MONTH_JS.map(t=>new Date(2019,t).toLocaleString(e,{month:"long"}))}static formatPatterns(e,t){switch(e){case"YY":case"YYYY":return{group:"year",pattern:`(\\d{${e.length}})`};case"M":return{group:"month",pattern:"(\\d{1,2})"};case"MM":return{group:"month",pattern:"(\\d{2})"};case"MMM":return{group:"shortMonth",pattern:`(${g.shortMonths(t).join("|")})`};case"MMMM":return{group:"longMonth",pattern:`(${g.longMonths(t).join("|")})`};case"D":return{group:"day",pattern:"(\\d{1,2})"};case"DD":return{group:"day",pattern:"(\\d{2})"};case"h":case"H":return{group:"hour",pattern:"(\\d{1,2})"};case"hh":case"HH":return{group:"hour",pattern:"(\\d{2})"};case"m":return{group:"minute",pattern:"(\\d{1,2})"};case"mm":return{group:"minute",pattern:"(\\d{2})"};case"s":return{group:"second",pattern:"(\\d{1,2})"};case"ss":return{group:"second",pattern:"(\\d{2})"};case"a":case"A":return{group:"ampm",pattern:"(AM|PM|am|pm)"}}}getWeek(e){const t=new Date(this.midnight_ts(this)),n=(this.getDay()+(7-e))%7;t.setDate(t.getDate()-n);const s=t.getTime();return t.setMonth(0,1),t.getDay()!==e&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((s-t.getTime())/6048e5)}clone(){return new g(this)}toJSDate(){return new Date(this)}inArray(e,t="[]"){return e.some(n=>n instanceof Array?this.isBetween(n[0],n[1],t):this.isSame(n,"day"))}isBetween(e,t,n="()"){switch(n){default:case"()":return this.midnight_ts(this)>this.midnight_ts(e)&&this.midnight_ts(this)<this.midnight_ts(t);case"[)":return this.midnight_ts(this)>=this.midnight_ts(e)&&this.midnight_ts(this)<this.midnight_ts(t);case"(]":return this.midnight_ts(this)>this.midnight_ts(e)&&this.midnight_ts(this)<=this.midnight_ts(t);case"[]":return this.midnight_ts()>=this.midnight_ts(e)&&this.midnight_ts()<=this.midnight_ts(t)}}isBefore(e,t="days"){switch(t){case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>new Date(this.getFullYear(),this.getMonth(),1).getTime();case"year":case"years":return e.getFullYear()>this.getFullYear()}throw new Error("isBefore: Invalid unit!")}isSameOrBefore(e,t="days"){switch(t){case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>=new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>=new Date(this.getFullYear(),this.getMonth(),1).getTime()}throw new Error("isSameOrBefore: Invalid unit!")}isAfter(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>new Date(e.getFullYear(),e.getMonth(),1).getTime();case"year":case"years":return this.getFullYear()>e.getFullYear()}throw new Error("isAfter: Invalid unit!")}isSameOrAfter(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>=new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSameOrAfter: Invalid unit!")}isSame(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()===new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()===new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSame: Invalid unit!")}add(e,t="days"){switch(t){case"day":case"days":this.setDate(this.getDate()+e);break;case"month":case"months":this.setMonth(this.getMonth()+e)}return this}subtract(e,t="days"){switch(t){case"day":case"days":this.setDate(this.getDate()-e);break;case"month":case"months":this.setMonth(this.getMonth()-e)}return this}diff(e,t="days"){switch(t){default:case"day":case"days":return Math.round((this.midnight_ts()-this.midnight_ts(e))/864e5);case"month":case"months":let n=12*(e.getFullYear()-this.getFullYear());return n-=e.getMonth(),n+=this.getMonth(),n}}format(e,t="en-US"){let n="";const s=[];let r=null;for(;(r=g.regex.exec(e))!=null;)r[1]!=="\\"&&s.push(r);if(s.length){s[0].index>0&&(n+=e.substring(0,s[0].index));for(const[a,l]of Object.entries(s)){const c=Number(a);n+=this.formatTokens(l[0],t),s[c+1]&&(n+=e.substring(l.index+l[0].length,s[c+1].index)),c===s.length-1&&(n+=e.substring(l.index+l[0].length))}}return n.replace(/\\/g,"")}midnight_ts(e){return e?new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0).getTime():new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0).getTime()}formatTokens(e,t){switch(e){case"YY":return String(this.getFullYear()).slice(-2);case"YYYY":return String(this.getFullYear());case"M":return String(this.getMonth()+1);case"MM":return`0${this.getMonth()+1}`.slice(-2);case"MMM":return g.shortMonths(t)[this.getMonth()];case"MMMM":return g.longMonths(t)[this.getMonth()];case"D":return String(this.getDate());case"DD":return`0${this.getDate()}`.slice(-2);case"H":return String(this.getHours());case"HH":return`0${this.getHours()}`.slice(-2);case"h":return String(this.getHours()%12||12);case"hh":return`0${this.getHours()%12||12}`.slice(-2);case"m":return String(this.getMinutes());case"mm":return`0${this.getMinutes()}`.slice(-2);case"s":return String(this.getSeconds());case"ss":return`0${this.getSeconds()}`.slice(-2);case"a":return this.getHours()<12||this.getHours()===24?"am":"pm";case"A":return this.getHours()<12||this.getHours()===24?"AM":"PM";default:return""}}};d(g,"regex",/(\\)?(Y{2,4}|M{1,4}|D{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|A|a)/g),d(g,"MONTH_JS",[0,1,2,3,4,5,6,7,8,9,10,11]);let M=g;class H{constructor(){d(this,"picker");d(this,"options");d(this,"priority",0);d(this,"dependencies",[])}attach(i){const e=this.getName(),t={...this.options};this.options={...this.options,...i.options[e]||{}};for(const s of Object.keys(t))if(t[s]!==null&&typeof t[s]=="object"&&Object.keys(t[s]).length&&e in i.options&&s in i.options[e]){const r={...i.options[e][s]};r!==null&&typeof r=="object"&&Object.keys(r).length&&Object.keys(r).every(a=>Object.keys(t[s]).includes(a))&&(this.options[s]={...t[s],...r})}if(this.picker=i,this.dependenciesNotFound()){const s=this.dependencies.filter(r=>!this.pluginsAsStringArray().includes(r));return void console.warn(`${this.getName()}: required dependencies (${s.join(", ")}).`)}const n=this.camelCaseToKebab(this.getName());this.picker.ui.container.classList.add(n),this.onAttach()}detach(){const i=this.camelCaseToKebab(this.getName());this.picker.ui.container.classList.remove(i),typeof this.onDetach=="function"&&this.onDetach()}dependenciesNotFound(){return this.dependencies.length&&!this.dependencies.every(i=>this.pluginsAsStringArray().includes(i))}pluginsAsStringArray(){return this.picker.options.plugins.map(i=>typeof i=="function"?new i().getName():i)}camelCaseToKebab(i){return i.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}}class F extends H{constructor(){super(...arguments);d(this,"tooltipElement");d(this,"triggerElement");d(this,"binds",{setStartDate:this.setStartDate.bind(this),setEndDate:this.setEndDate.bind(this),setDateRange:this.setDateRange.bind(this),getStartDate:this.getStartDate.bind(this),getEndDate:this.getEndDate.bind(this),onView:this.onView.bind(this),onShow:this.onShow.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onClickCalendarDay:this.onClickCalendarDay.bind(this),onClickApplyButton:this.onClickApplyButton.bind(this),parseValues:this.parseValues.bind(this),updateValues:this.updateValues.bind(this),clear:this.clear.bind(this)});d(this,"options",{elementEnd:null,startDate:null,endDate:null,repick:!1,strict:!0,delimiter:" - ",tooltip:!0,tooltipNumber:e=>e,locale:{zero:"",one:"day",two:"",few:"",many:"",other:"days"},documentClick:this.hidePicker.bind(this)})}getName(){return"RangePlugin"}onAttach(){this.binds._setStartDate=this.picker.setStartDate,this.binds._setEndDate=this.picker.setEndDate,this.binds._setDateRange=this.picker.setDateRange,this.binds._getStartDate=this.picker.getStartDate,this.binds._getEndDate=this.picker.getEndDate,this.binds._parseValues=this.picker.parseValues,this.binds._updateValues=this.picker.updateValues,this.binds._clear=this.picker.clear,this.binds._onClickCalendarDay=this.picker.onClickCalendarDay,this.binds._onClickApplyButton=this.picker.onClickApplyButton,Object.defineProperties(this.picker,{setStartDate:{configurable:!0,value:this.binds.setStartDate},setEndDate:{configurable:!0,value:this.binds.setEndDate},setDateRange:{configurable:!0,value:this.binds.setDateRange},getStartDate:{configurable:!0,value:this.binds.getStartDate},getEndDate:{configurable:!0,value:this.binds.getEndDate},parseValues:{configurable:!0,value:this.binds.parseValues},updateValues:{configurable:!0,value:this.binds.updateValues},clear:{configurable:!0,value:this.binds.clear},onClickCalendarDay:{configurable:!0,value:this.binds.onClickCalendarDay},onClickApplyButton:{configurable:!0,value:this.binds.onClickApplyButton}}),this.options.elementEnd&&(this.options.elementEnd instanceof HTMLElement||(this.options.elementEnd=this.picker.options.doc.querySelector(this.options.elementEnd)),this.options.elementEnd instanceof HTMLInputElement&&(this.options.elementEnd.readOnly=this.picker.options.readonly),typeof this.picker.options.documentClick=="function"&&(document.removeEventListener("click",this.picker.options.documentClick,!0),typeof this.options.documentClick=="function"&&document.addEventListener("click",this.options.documentClick,!0)),this.options.elementEnd.addEventListener("click",this.picker.show.bind(this.picker))),this.options.repick=this.options.repick&&this.options.elementEnd instanceof HTMLElement,this.picker.options.date=null,this.picker.on("view",this.binds.onView),this.picker.on("show",this.binds.onShow),this.picker.on("mouseenter",this.binds.onMouseEnter,!0),this.picker.on("mouseleave",this.binds.onMouseLeave,!0),this.checkIntlPluralLocales()}onDetach(){Object.defineProperties(this.picker,{setStartDate:{configurable:!0,value:this.binds._setStartDate},setEndDate:{configurable:!0,value:this.binds._setEndDate},setDateRange:{configurable:!0,value:this.binds._setDateRange},getStartDate:{configurable:!0,value:this.binds._getStartDate},getEndDate:{configurable:!0,value:this.binds._getEndDate},parseValues:{configurable:!0,value:this.binds._parseValues},updateValues:{configurable:!0,value:this.binds._updateValues},clear:{configurable:!0,value:this.binds._clear},onClickCalendarDay:{configurable:!0,value:this.binds._onClickCalendarDay},onClickApplyButton:{configurable:!0,value:this.binds._onClickApplyButton}}),this.picker.off("view",this.binds.onView),this.picker.off("show",this.binds.onShow),this.picker.off("mouseenter",this.binds.onMouseEnter,!0),this.picker.off("mouseleave",this.binds.onMouseLeave,!0)}parseValues(){if(this.options.startDate||this.options.endDate)this.options.strict?this.options.startDate&&this.options.endDate?this.setDateRange(this.options.startDate,this.options.endDate):(this.options.startDate=null,this.options.endDate=null):(this.options.startDate&&this.setStartDate(this.options.startDate),this.options.endDate&&this.setEndDate(this.options.endDate));else if(this.options.elementEnd)this.options.strict?this.picker.options.element instanceof HTMLInputElement&&this.picker.options.element.value.length&&this.options.elementEnd instanceof HTMLInputElement&&this.options.elementEnd.value.length&&this.setDateRange(this.picker.options.element.value,this.options.elementEnd.value):(this.picker.options.element instanceof HTMLInputElement&&this.picker.options.element.value.length&&this.setStartDate(this.picker.options.element.value),this.options.elementEnd instanceof HTMLInputElement&&this.options.elementEnd.value.length&&this.setEndDate(this.options.elementEnd.value));else if(this.picker.options.element instanceof HTMLInputElement&&this.picker.options.element.value.length){const[e,t]=this.picker.options.element.value.split(this.options.delimiter);this.options.strict?e&&t&&this.setDateRange(e,t):(e&&this.setStartDate(e),t&&this.setEndDate(t))}}updateValues(){const e=this.picker.options.element,t=this.options.elementEnd,n=this.picker.getStartDate(),s=this.picker.getEndDate(),r=n instanceof Date?n.format(this.picker.options.format,this.picker.options.lang):"",a=s instanceof Date?s.format(this.picker.options.format,this.picker.options.lang):"";if(t)e instanceof HTMLInputElement?e.value=r:e instanceof HTMLElement&&(e.innerText=r),t instanceof HTMLInputElement?t.value=a:t instanceof HTMLElement&&(t.innerText=a);else{const l=`${r}${r||a?this.options.delimiter:""}${a}`;e instanceof HTMLInputElement?e.value=l:e instanceof HTMLElement&&(e.innerText=l)}}clear(){this.options.startDate=null,this.options.endDate=null,this.picker.datePicked.length=0,this.updateValues(),this.picker.renderAll(),this.picker.trigger("clear")}onShow(e){const{target:t}=e.detail;this.triggerElement=t,this.picker.options.scrollToDate&&this.getStartDate()instanceof Date&&this.picker.gotoDate(this.getStartDate()),this.initializeRepick()}onView(e){const{view:t,target:n}=e.detail;if(t==="Main"&&(this.tooltipElement=document.createElement("span"),this.tooltipElement.className="range-plugin-tooltip",n.appendChild(this.tooltipElement)),t==="CalendarDay"){const s=new M(n.dataset.time),r=this.picker.datePicked,a=r.length?this.picker.datePicked[0]:this.getStartDate(),l=r.length?this.picker.datePicked[1]:this.getEndDate();a&&a.isSame(s,"day")&&n.classList.add("start"),a&&l&&(l.isSame(s,"day")&&n.classList.add("end"),s.isBetween(a,l)&&n.classList.add("in-range"))}if(t==="Footer"){const s=this.picker.datePicked.length===1&&!this.options.strict||this.picker.datePicked.length===2;n.querySelector(".apply-button").disabled=!s}}hidePicker(e){let t=e.target,n=null;t.shadowRoot&&(t=e.composedPath()[0],n=t.getRootNode().host),this.picker.isShown()&&n!==this.picker.ui.wrapper&&t!==this.picker.options.element&&t!==this.options.elementEnd&&this.picker.hide()}setStartDate(e){const t=new M(e,this.picker.options.format);this.options.startDate=t?t.clone():null,this.updateValues(),this.picker.renderAll()}setEndDate(e){const t=new M(e,this.picker.options.format);this.options.endDate=t?t.clone():null,this.updateValues(),this.picker.renderAll()}setDateRange(e,t){const n=new M(e,this.picker.options.format),s=new M(t,this.picker.options.format);this.options.startDate=n?n.clone():null,this.options.endDate=s?s.clone():null,this.updateValues(),this.picker.renderAll()}getStartDate(){return this.options.startDate instanceof Date?this.options.startDate.clone():null}getEndDate(){return this.options.endDate instanceof Date?this.options.endDate.clone():null}onMouseEnter(e){const t=e.target;if(t instanceof HTMLElement){this.isContainer(t)&&this.initializeRepick();const n=t.closest(".unit");if(!(n instanceof HTMLElement))return;if(this.picker.isCalendarDay(n)){if(this.picker.datePicked.length!==1)return;let s=this.picker.datePicked[0].clone(),r=new M(n.dataset.time),a=!1;if(s.isAfter(r,"day")){const l=s.clone();s=r.clone(),r=l.clone(),a=!0}if([...this.picker.ui.container.querySelectorAll(".day")].forEach(l=>{const c=new M(l.dataset.time),p=this.picker.Calendar.getCalendarDayView(c);c.isBetween(s,r)&&p.classList.add("in-range"),c.isSame(this.picker.datePicked[0],"day")&&(p.classList.add("start"),p.classList.toggle("flipped",a)),l===n&&(p.classList.add("end"),p.classList.toggle("flipped",a)),l.className=p.className}),this.options.tooltip){const l=this.options.tooltipNumber(r.diff(s,"day")+1);if(l>0){const c=new Intl.PluralRules(this.picker.options.lang).select(l),p=`${l} ${this.options.locale[c]}`;this.showTooltip(n,p)}else this.hideTooltip()}}}}onMouseLeave(e){if(this.isContainer(e.target)&&this.options.repick){const t=this.getStartDate(),n=this.getEndDate();t&&n&&(this.picker.datePicked.length=0,this.picker.renderAll())}}onClickCalendarDay(e){if(this.picker.isCalendarDay(e)){this.picker.datePicked.length===2&&(this.picker.datePicked.length=0);const t=new M(e.dataset.time);if(this.picker.datePicked[this.picker.datePicked.length]=t,this.picker.datePicked.length===2&&this.picker.datePicked[0].isAfter(this.picker.datePicked[1])){const n=this.picker.datePicked[1].clone();this.picker.datePicked[1]=this.picker.datePicked[0].clone(),this.picker.datePicked[0]=n.clone()}this.picker.datePicked.length!==1&&this.picker.options.autoApply||this.picker.trigger("preselect",{start:this.picker.datePicked[0]instanceof Date?this.picker.datePicked[0].clone():null,end:this.picker.datePicked[1]instanceof Date?this.picker.datePicked[1].clone():null}),this.picker.datePicked.length===1&&(!this.options.strict&&this.picker.options.autoApply&&(this.picker.options.element===this.triggerElement&&this.setStartDate(this.picker.datePicked[0]),this.options.elementEnd===this.triggerElement&&this.setEndDate(this.picker.datePicked[0]),this.picker.trigger("select",{start:this.picker.getStartDate(),end:this.picker.getEndDate()})),this.picker.renderAll()),this.picker.datePicked.length===2&&(this.picker.options.autoApply?(this.setDateRange(this.picker.datePicked[0],this.picker.datePicked[1]),this.picker.trigger("select",{start:this.picker.getStartDate(),end:this.picker.getEndDate()}),this.picker.hide()):(this.hideTooltip(),this.picker.renderAll()))}}onClickApplyButton(e){this.picker.isApplyButton(e)&&(this.picker.datePicked.length!==1||this.options.strict||(this.picker.options.element===this.triggerElement&&(this.options.endDate=null,this.setStartDate(this.picker.datePicked[0])),this.options.elementEnd===this.triggerElement&&(this.options.startDate=null,this.setEndDate(this.picker.datePicked[0]))),this.picker.datePicked.length===2&&this.setDateRange(this.picker.datePicked[0],this.picker.datePicked[1]),this.picker.trigger("select",{start:this.picker.getStartDate(),end:this.picker.getEndDate()}),this.picker.hide())}showTooltip(e,t){this.tooltipElement.style.visibility="visible",this.tooltipElement.innerHTML=t;const n=this.picker.ui.container.getBoundingClientRect(),s=this.tooltipElement.getBoundingClientRect(),r=e.getBoundingClientRect();let a=r.top,l=r.left;a-=n.top,l-=n.left,a-=s.height,l-=s.width/2,l+=r.width/2,this.tooltipElement.style.top=`${a}px`,this.tooltipElement.style.left=`${l}px`}hideTooltip(){this.tooltipElement.style.visibility="hidden"}checkIntlPluralLocales(){if(!this.options.tooltip)return;const e=[...new Set([new Intl.PluralRules(this.picker.options.lang).select(0),new Intl.PluralRules(this.picker.options.lang).select(1),new Intl.PluralRules(this.picker.options.lang).select(2),new Intl.PluralRules(this.picker.options.lang).select(6),new Intl.PluralRules(this.picker.options.lang).select(18)])],t=Object.keys(this.options.locale);e.every(n=>t.includes(n))||console.warn(`${this.getName()}: provide locales (${e.join(", ")}) for correct tooltip text.`)}initializeRepick(){if(!this.options.repick)return;const e=this.getStartDate(),t=this.getEndDate();t&&this.triggerElement===this.picker.options.element&&(this.picker.datePicked[0]=t),e&&this.triggerElement===this.options.elementEnd&&(this.picker.datePicked[0]=e)}isContainer(e){return e===this.picker.ui.container}}const S={en:{search:"Search",checkInOut:"CheckIn\\Out",promoCode:"Promo codes",dateRange:{one:"night",other:"nights"}},ru:{search:"Искать",checkInOut:"Заезд\\Выезд",promoCode:"Промо код",dateRange:{one:"ночь",few:"ночи",many:"ночей",other:"ночи"}}},A={__name:"DatePicker",props:{modelValue:{type:Object,required:!0},locale:{type:String,required:!0}},emits:["update:modelValue"],setup(h,{emit:i}){const e=h,t=o.ref(null);let n=o.ref(null);const s=o.ref({...e.modelValue}),r=i;o.watchEffect(()=>{s.value={...e.modelValue}}),o.watchEffect(()=>{n.value&&(n.value.setStartDate(s.value.start),n.value.setEndDate(s.value.end))});const a=o.computed(()=>e.locale&&S[e.locale].dateRange?S[e.locale].dateRange:S.en.dateRange);return o.onMounted(()=>{n.value=new L.create({element:t.value,css:["https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.css"],setup(l){l.on("select",c=>{s.value.start=c.detail.start?c.detail.start.format("YYYY-MM-DD"):null,s.value.end=c.detail.end?c.detail.end.format("YYYY-MM-DD"):null,r("update:modelValue",s.value)})},autoApply:!0,readonly:!0,plugins:[F],calendars:2,grid:2,lang:e.locale,RangePlugin:{delimiter:" - ",tooltipNumber(l){return l-1},locale:a.value},zIndex:10})}),(l,c)=>(o.openBlock(),o.createElementBlock("input",{ref_key:"calendarRef",ref:t,type:"text",class:"datepicker__input"},null,512))}},V={class:"field-decorator"},B={class:"field-decorator__input-group"},$={class:"field-decorator__label"},O={class:"field-decorator__slot"},P={__name:"FieldDecorator",props:{label:{type:String,required:!0}},setup(h){return(i,e)=>(o.openBlock(),o.createElementBlock("div",V,[o.createElementVNode("div",B,[o.createElementVNode("label",$,o.toDisplayString(h.label),1),o.createElementVNode("div",O,[o.renderSlot(i.$slots,"default")])])]))}},R={class:"searchbar-widget"},I={class:"searchbar"},j={class:"date-range"},z={class:"search-button"},C={__name:"SearchBarWidget",props:{start:{type:String,default:()=>{let h=new Date;return h.setDate(new Date().getDate()+1),h.toISOString().split("T")[0]}},end:{type:String,default:()=>{let h=new Date;return h.setDate(new Date().getDate()+2),h.toISOString().split("T")[0]}},promoCode:{type:String,default:""},showPromoCode:{type:Boolean,default:!1},locale:{type:String}},setup(h){var m,v,D,y;const i=h,e=o.ref({start:i.start,end:i.end}),t=o.ref(i.promoCode),n=()=>{if(!e.value.start||!e.value.end)return;const w={...e.value,promoCode:t.value};window.dispatchEvent(new CustomEvent("bflex:search-bar:search",{detail:w})),console.log("dispatch event: bflex:search-bar:search",w)},s=o.ref(null),r=()=>{s.value&&s.value.focus()},a=w=>{const f=w.detail;console.log("listen event: bflex:booking-widget:changed",f),(e.value.start!==f.start||e.value.end!==f.end)&&(e.value.start=f.start,e.value.end=f.end)};o.onMounted(()=>{window.addEventListener("bflex:booking-widget:changed",a)}),o.onUnmounted(()=>{window.removeEventListener("bflex:booking-widget:changed",a)});let l="en";i.locale?l=i.locale:globalThis.window&&(l=((v=(m=window==null?void 0:window.BookiFlex)==null?void 0:m.widget)==null?void 0:v.locale)||"en");let c=S[l]||{};globalThis.window&&(c=Object.assign(c,((y=(D=window==null?void 0:window.BookiFlex)==null?void 0:D.widget)==null?void 0:y.l10n)||{}));const p=(w,f)=>c[w]||f;return(w,f)=>(o.openBlock(),o.createElementBlock("div",R,[o.createElementVNode("div",I,[o.createElementVNode("div",j,[o.createVNode(P,{class:"check-in-out",label:p("checkInOut","Check-in\\out date"),"hide-hint":""},{default:o.withCtx(()=>[o.createVNode(A,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=x=>e.value=x),locale:o.unref(l)},null,8,["modelValue","locale"])]),_:1},8,["label"])]),h.showPromoCode?(o.openBlock(),o.createBlock(P,{key:0,class:"promo-code",onClick:r,label:p("promoCode","Promo code"),"hide-hint":""},{default:o.withCtx(()=>[o.withDirectives(o.createElementVNode("input",{ref_key:"promoCodeRef",ref:s,"onUpdate:modelValue":f[1]||(f[1]=x=>t.value=x)},null,512),[[o.vModelText,t.value]])]),_:1},8,["label"])):o.createCommentVNode("",!0),o.createElementVNode("div",z,[o.createElementVNode("button",{type:"button",onClick:n},o.toDisplayString(p("search","Search")),1)])])]))}},q=((h,i)=>{const e=h.__vccOpts||h;for(const[t,n]of i)e[t]=n;return e})({__name:"SearchBarWidget.ce",props:{start:{type:String},end:{type:String},promoCode:{type:String},locale:{type:String}},setup(h){return(i,e)=>(o.openBlock(),o.createBlock(C,{start:h.start,end:h.end,"promo-code":h.promoCode,locale:h.locale},null,8,["start","end","promo-code","locale"]))}},[["styles",["*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}:host,.searchbar-widget{container-type:inline-size;container-name:searchbar}.searchbar{font-size:var(--bflex-search-bar--font-size);display:flex;flex-direction:row;justify-content:space-between;gap:var(--bflex-search-bar--field-gap);padding:var(--bflex-search-bar--padding);background:var(--bflex-search-bar--bg);border-radius:var(--bflex-search-bar--border-radius)}.searchbar .date-range{flex:1 1 80%}.searchbar .promo-code{flex:1 0 auto;max-width:200px}.searchbar .search-button{flex:1 0 auto}.searchbar .search-button button{min-width:100px;width:100%;height:100%}.searchbar button{border-radius:var(--bflex-search-bar--button-border-radius);font-size:var(--bflex-search-bar--button-font-size);padding:var(--bflex-search-bar--button-padding);-webkit-user-select:none;user-select:none;display:inline-flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;transition:border-color .25s ease-in-out 0s,box-shadow .1s ease-in-out 0s,background-color .25s ease-in-out 0s,color .25s ease-in-out 0s;margin:0;cursor:pointer;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;position:relative;color:var(--bflex-search-bar--button-color);background:var(--bflex-search-bar--button-bg);border:var(--bflex-search-bar--button-border);opacity:1}.searchbar button:hover{border-color:var(--bflex-search-bar--button-hover-border-color);background:var(--bflex-search-bar--button-hover-bg)}.searchbar button:active{border-color:var(--bflex-search-bar--button-active-border-color, #1c7430);background:var(--bflex-search-bar--button-active-bg, #1c7430)}@container searchbar (max-width: 480px){:host,.searchbar-widget{font-size:14px}.searchbar{flex-direction:column;min-width:300px}.searchbar .date-range{flex:0 0 auto}.searchbar .promo-code{max-width:100%}}.field-decorator__input-group{border:var(--bflex-search-bar--field-border);border-radius:var(--bflex-search-bar--field-border-radius);background-color:var(--bflex-search-bar--field-bg);padding:var(--bflex-search-bar--field-padding);display:flex;flex-direction:column}.field-decorator__label{font-size:var(--bflex-search-bar--field-label-font-size);margin-bottom:var(--bflex-search-bar--field-label-mb);line-height:1;color:var(--bflex-search-bar--field-label-color);-webkit-user-select:none;user-select:none}.field-decorator__slot{display:flex;flex-direction:column;width:100%;height:auto}.field-decorator textarea,.field-decorator select,.field-decorator input{border:0!important;outline:0!important;background:var(--bflex-search-bar--field-bg);border-color:var(--bflex-search-bar--field-bg);width:100%;height:100%;font-size:var(--bflex-search-bar--field-font-size);color:var(--bflex-search-bar--field-text-color)}.field-decorator textarea{resize:vertical}.easepick-wrapper{--day-height: var(--bflex-date-range--day-height);--color-bg-inrange: var(--bflex-date-range--color-bg-inrange);--color-fg-primary: var(--bflex-date-range--color-fg-primary)}:host,.searchbar-widget{--bflex-search-bar--font-size: 16px;--bflex-search-bar--padding: 1rem;--bflex-search-bar--bg: #ecebea;--bflex-search-bar--border-radius: 5px;--bflex-search-bar--field-gap: 1rem;--bflex-search-bar--field-bg: #fff;--bflex-search-bar--field-padding: .5rem 1rem;--bflex-search-bar--field-border: 1px solid rgba(34, 34, 34, .2);--bflex-search-bar--field-border-radius: 5px;--bflex-search-bar--field-font-size: .875rem;--bflex-search-bar--field-text-color: inherit;--bflex-search-bar--field-label-font-size: .75rem;--bflex-search-bar--field-label-color: #1f1f1f;--bflex-search-bar--field-label-mb: .25rem;--bflex-search-bar--button-border-radius: 5px;--bflex-search-bar--button-font-size: 1rem;--bflex-search-bar--button-padding: .75rem;--bflex-search-bar--button-color: #fff;--bflex-search-bar--button-bg: #28a745;--bflex-search-bar--button-border: solid 1px #28a745;--bflex-search-bar--button-hover-border-color: #1e7e34;--bflex-search-bar--button-hover-bg: #1e7e34;--bflex-search-bar--button-active-border-color: #1c7430;--bflex-search-bar--button-active-bg: #1c7430;--bflex-date-range--day-height: 37px;--bflex-date-range--color-bg-inrange: #43cd62;--bflex-date-range--color-fg-primary: #28a745}"]]]),J={__name:"App",props:{start:{type:String},end:{type:String},promoCode:{type:String},locale:{type:String}},setup(h){return(i,e)=>(o.openBlock(),o.createBlock(C,{start:h.start,end:h.end,"promo-code":h.promoCode,locale:h.locale},null,8,["start","end","promo-code","locale"]))}};globalThis.window&&window.customElements.define("bflex-search-bar-widget",o.defineCustomElement(q));function U(h){o.createApp(J,{initOptions:h}).mount("#bflex-search-bar-widget")}b.SearchBarWidget=C,b.mountWidget=U,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
